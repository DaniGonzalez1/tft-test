<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TFT Archetype Quiz </title>

    <!-- 1. Cargar React y ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>

    <!-- 2. Cargar Babel (para traducir JSX) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- 3. Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- 4. Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- 5. html2canvas (Para la captura) -->
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600&family=Playfair+Display:ital,wght@0,500;0,700;1,500&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400&display=swap');

        body {
            font-family: 'Outfit', sans-serif;
            background-color: #F9FAFB;
            color: #333333;
            overflow-x: hidden;
        }

        /* Texturas y Fondos */
        .bg-noise {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            opacity: 0.04;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
        }

        .aura-blob {
            position: absolute;
            border-radius: 50%;
            filter: blur(90px);
            opacity: 0.5;
            z-index: -1;
            animation: float 14s infinite ease-in-out;
        }

        .aura-purple {
            background: #C084FC;
            width: 600px;
            height: 600px;
            top: -10%;
            right: -10%;
        }

        .aura-pink {
            background: #F472B6;
            width: 400px;
            height: 400px;
            bottom: 5%;
            left: -5%;
            animation-delay: 2s;
        }

        .aura-lime {
            background: #BEF264;
            width: 300px;
            height: 300px;
            top: 40%;
            right: 20%;
            animation-delay: 4s;
        }

        @keyframes float {

            0%,
            100% {
                transform: translate(0, 0) scale(1);
            }

            50% {
                transform: translate(20px, -30px) scale(1.05);
            }
        }

        /* TipografÃ­a */
        h1,
        h2,
        h3 {
            font-family: 'Playfair Display', serif;
        }

        .font-mono {
            font-family: 'JetBrains Mono', monospace;
        }

        /* UI Elements */
        .glass-card {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.8);
            box-shadow: 0 10px 40px rgba(167, 139, 250, 0.1);
            border-radius: 2rem;
            transition: all 0.3s ease;
        }

        .btn-pill {
            background: #8B5CF6;
            color: white;
            border: none;
            border-radius: 50px;
            padding: 14px 32px;
            font-weight: 600;
            letter-spacing: 0.05em;
            text-transform: uppercase;
            font-size: 0.85rem;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(139, 92, 246, 0.3);
        }

        .btn-pill:hover {
            background: #7C3AED;
            transform: translateY(-2px) scale(1.02);
            box-shadow: 0 10px 25px rgba(139, 92, 246, 0.4);
        }

        .btn-outline {
            background: transparent;
            color: #8B5CF6;
            border: 2px solid #E9D5FF;
            border-radius: 50px;
            padding: 12px 28px;
            font-weight: 600;
            letter-spacing: 0.05em;
            text-transform: uppercase;
            font-size: 0.8rem;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn-outline:hover {
            background: #F3E8FF;
            border-color: #C084FC;
        }

        .btn-option {
            background: rgba(255, 255, 255, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.0);
            border-radius: 1rem;
            padding: 1.25rem;
            text-align: left;
            transition: all 0.2s;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.02);
        }

        .btn-option:hover {
            background: white;
            border-color: #A78BFA;
            transform: translateX(6px);
            box-shadow: 0 4px 12px rgba(167, 139, 250, 0.2);
        }

        .progress-track {
            background: #E9D5FF;
        }

        .progress-fill {
            background: linear-gradient(90deg, #A78BFA, #F472B6);
        }
    </style>
</head>

<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- ICONOS (Mapeo manual para HTML) ---
        const Icon = ({ name, size = 24, className = "" }) => <i data-lucide={name} style={{ width: size, height: size }} className={className}></i>;
        const Sparkles = (p) => <Icon name="sparkles" {...p} />;
        const Crown = (p) => <Icon name="crown" {...p} />;
        const Star = (p) => <Icon name="star" {...p} />;
        const Zap = (p) => <Icon name="zap" {...p} />;
        const ArrowRight = (p) => <Icon name="arrow-right" {...p} />;
        const RefreshCcw = (p) => <Icon name="refresh-ccw" {...p} />;
        const Share2 = (p) => <Icon name="share-2" {...p} />;
        const Download = (p) => <Icon name="download" {...p} />;

        // --- DATOS COMPLETOS ---
        
        // --- BASE DE DATOS BALANCEADA (TODOS TIENEN OPORTUNIDAD) ---
             const characters = [
                    // --- NUEVOS AGREGADOS ---
                    { id: 'sona-chibi', name: 'Chibi Sona', title: 'La Virtuosa MelÃ³dica', desc: 'Eres una chica melÃ³dica, inteligente, hÃ¡bil, tÃ­mida y amorosa. Prefieres crear armonÃ­a y apoyar a los tuyos antes que el conflicto directo.', traits: ['melody', 'shy', 'love', 'smart', 'support', 'fem', 'aesthetic'], color: 'text-cyan-500', borderColor: 'border-cyan-400', img: 'img/chibisona.jpg' },
                    { id: 'shisa', name: 'Shisa', title: 'El GuardiÃ¡n Feroz', desc: 'Tienes rasgos mixtos de leÃ³n, oveja y ratÃ³n. Pareces adorable, pero cuando obtienes mÃ¡s poder, tu cabello se vuelve mÃ¡s largo y salvaje.', traits: ['wild', 'anger', 'lion', 'power', 'hair', 'creature', 'rustic'], color: 'text-orange-500', borderColor: 'border-orange-400', img: 'img/shisa.jpg' },

                    // --- PRIORIDAD ALTA (SOLICITADOS) ---
                    { id: 'kapi', name: 'Kapi', title: 'El Chill Vibes', desc: 'TÃº no te estresas. Pones mÃºsica lofi, fuerzas la misma composiciÃ³n de siempre y disfrutas. Tu estilo es relajado y natural.', traits: ['chill', 'vibes', 'music', 'nature', 'rustic', 'creature'], color: 'text-emerald-500', borderColor: 'border-emerald-400', img: 'img/kapi.jpg' },
                    { id: 'lux-sg', name: 'Lux Star Guardian', title: 'La Optimista', desc: 'Crees en el poder de la amistad y en los tableros bonitos. Irradias energÃ­a femenina y brillante.', traits: ['light', 'optimist', 'rainbow', 'vertical', 'fem', 'aesthetic'], color: 'text-pink-500', borderColor: 'border-pink-300', img: 'img/luxstar.jpg' },
                    { id: 'ahri-sg', name: 'Ahri Star Guardian', title: 'La Diva Pop', desc: 'Eres el centro de atenciÃ³n. Te gusta que tu tablero brille y tus campeones tengan las mejores skins. Estilo sobre sustancia.', traits: ['star', 'diva', 'charm', 'visuals', 'fem', 'aesthetic'], color: 'text-pink-600', borderColor: 'border-pink-400', img: 'img/ahri-sg.jpg' },
                    { id: 'qiqi', name: 'Qiqi', title: 'La Artista', desc: 'Te inventas composiciones que nadie mÃ¡s juega porque eres un alma creativa. Eres Ãºnica y tienes un estilo muy personal.', traits: ['art', 'create', 'unique', 'paint', 'fem', 'aesthetic'], color: 'text-indigo-500', borderColor: 'border-indigo-400', img: 'img/qiqi.jpg' },
                    { id: 'darius-god', name: 'God King Darius', title: 'El Conquistador', desc: 'La fuerza es la Ãºnica ley. Te gusta aplastar a tus enemigos y demostrar tu dominio absoluto.', traits: ['warrior', 'king', 'power', 'dunk', 'masc', 'dark'], color: 'text-yellow-600', borderColor: 'border-yellow-500', img: 'img/darius-god.jpg' },
                    { id: 'teemo-devil', name: 'Teemonio', title: 'El Estratega Cruel', desc: 'Disfrutas el sufrimiento ajeno. Compras las fichas que otros quieren y usas emotes para desconcentrar.', traits: ['troll', 'evil', 'mindgame', 'toxic', 'creature'], color: 'text-red-800', borderColor: 'border-red-700', img: 'img/teemo-devil.jpg' },
                    { id: 'pengu', name: 'Pengu', title: 'El ClÃ¡sico', desc: 'El equilibrio perfecto. Eres la mascota icÃ³nica que todos aman, respetuoso y heroico.', traits: ['classic', 'balanced', 'hero', 'respect', 'creature'], color: 'text-blue-600', borderColor: 'border-blue-500', img: 'img/pengu.jpg' },
                    { id: 'dango', name: 'Dango', title: 'La Mascota Feliz', desc: 'Ruedas por el tablero sin saber muy bien quÃ© pasa, pero eres feliz. Eres adorable y redondito.', traits: ['happy', 'cute', 'luck', 'roll', 'creature'], color: 'text-lime-500', borderColor: 'border-lime-400', img: 'img/dango.jpg' },
                    { id: 'kaisa-chibi', name: 'Chibi Kai\'Sa', title: 'La Superviviente', desc: 'Nunca te rindes. Sabes pivotar tu composiciÃ³n en segundos. Tienes un instinto agudo y adaptable.', traits: ['flex', 'survivor', 'adapt', 'instinct', 'fem'], color: 'text-fuchsia-700', borderColor: 'border-fuchsia-600', img: 'img/chibikaisa.jpg' },
                    { id: 'ezreal-chibi', name: 'Chibi Ezreal', title: 'El Explorador', desc: 'Te encantan los objetos y lucirte. Tienes un estilo muy cool y aventurero.', traits: ['items', 'explorer', 'showoff', 'adventure', 'masc', 'aesthetic'], color: 'text-amber-500', borderColor: 'border-amber-400', img: 'img/chibiezreal.jpg' },
                    { id: 'katarina-ba', name: 'Katarina Academia', title: 'La Asesina Competitiva', desc: 'Solo te importa ganar. Eres directa, letal y odias perder el tiempo. Tienes una personalidad fuerte y afilada.', traits: ['assassin', 'sharp', 'fast', 'competitive', 'fem'], color: 'text-red-700', borderColor: 'border-red-600', img: 'img/katarina-ba.jpg' },
                    { id: 'jinx-chibi', name: 'Chibi Jinx', title: 'El Desastre Andante', desc: 'Â¡Explosiones! Si no hay caos, te aburres. Tu estilo de juego es impredecible y ruidoso.', traits: ['chaos', 'crazy', 'rockets', 'fun', 'fem'], color: 'text-fuchsia-600', borderColor: 'border-fuchsia-500', img: 'img/jinx.jpg' },
                    { id: 'duckbill', name: 'Ornitorrinco', title: 'El Caos Ruidoso', desc: 'Â¡BotÃ³n D! Haces mucho ruido, spameas el chat y juegas fichas de coste 1 al nivel 3.', traits: ['noise', 'spam', 'reroll', 'hyper', 'creature'], color: 'text-yellow-500', borderColor: 'border-yellow-400', img: 'img/duckbill.jpg' },
                    { id: 'ekko-chibi', name: 'Chibi Ekko', title: 'El Calculador', desc: 'Todo estÃ¡ en tu cabeza. Tienes un estilo urbano, moderno y tecnolÃ³gico.', traits: ['smart', 'calc', 'tech', 'predict', 'masc', 'street'], color: 'text-teal-600', borderColor: 'border-teal-400', img: 'img/ekko.jpg' },
                    { id: 'molediver', name: 'Topobrero', title: 'El Trabajador Humilde', desc: 'Nadie te nota, pero siempre quedas Top 4. Trabajas en silencio, acumulas recursos y no te importa mancharte las manos.', traits: ['work', 'humble', 'dirt', 'steady', 'creature', 'rustic'], color: 'text-yellow-700', borderColor: 'border-yellow-600', img: 'img/molediver.jpg' },
                    { id: 'knife-pup', name: 'Cuchibueso', title: 'El Cachorro Letal', desc: 'Demasiado adorable para ser tan peligroso. Eres juguetÃ³n pero con un lado afilado.', traits: ['cute', 'dog', 'deadly', 'playful', 'creature'], color: 'text-rose-500', borderColor: 'border-rose-400', img: 'img/knifepup.jpg' },

                    // --- OTROS POPULARES ---
                    { id: 'annie-chibi', name: 'Chibi Annie', title: 'La Hija del Fuego', desc: 'Â¡Lo quieres todo y lo quieres YA! Eres temperamental, pasional y un poco aterradora.', traits: ['aggro', 'fire', 'scary', 'impulsive', 'fem'], color: 'text-orange-600', borderColor: 'border-orange-500', img: 'img/chibiannie.jpg' },
                    { id: 'yasuo-chibi', name: 'Chibi Yasuo', title: 'El Duelista MecÃ¡nico', desc: 'Mueves tus unidades cada segundo. Eres un guerrero solitario enfocado en la perfecciÃ³n.', traits: ['micro', 'skill', 'loner', 'sword', 'masc'], color: 'text-sky-700', borderColor: 'border-sky-600', img: 'img/chibiyasuo.jpg' },
                    { id: 'mf-bb', name: 'Chibi Miss Fortune', title: 'La Magnate', desc: 'El oro lo es todo. Te gusta el lujo, el riesgo y tienes una presencia imponente.', traits: ['money', 'risk', 'rich', 'bounty', 'fem', 'aesthetic'], color: 'text-red-500', borderColor: 'border-red-400', img: 'img/mf-bb.jpg' },
                    { id: 'ravenlord', name: 'Ravenlord', title: 'El SeÃ±or Oscuro', desc: 'Un enigma oscuro. Eres calculador, serio y prefieres las sombras.', traits: ['meta', 'dark', 'win', 'ruthless', 'masc'], color: 'text-violet-800', borderColor: 'border-violet-700', img: 'img/ravenlord.jpg' },
                    { id: 'fenroar', name: 'Fenrugido', title: 'El GuardiÃ¡n Leal', desc: 'Protector silencioso. Te sientes cÃ³modo en la naturaleza y protegiendo a tu manada.', traits: ['guard', 'tank', 'loyal', 'wild', 'creature', 'rustic'], color: 'text-slate-600', borderColor: 'border-slate-400', img: 'img/fenroar.jpg' },
                    { id: 'burno', name: 'Burno', title: 'El Tilteado', desc: 'Tu relaciÃ³n con el juego es amor-odio. Eres pura pasiÃ³n y mecha corta.', traits: ['rage', 'fire', 'tilt', 'stubborn', 'masc'], color: 'text-red-600', borderColor: 'border-red-500', img: 'img/burno.jpg' },
                    { id: 'aoshin-sun', name: 'Ao Shin', title: 'El DragÃ³n de Late Game', desc: 'Paciencia y poder ancestral. Eres una entidad poderosa por encima del bien y el mal.', traits: ['late', 'dragon', 'patience', 'powerful', 'creature'], color: 'text-amber-600', borderColor: 'border-amber-500', img: 'img/aoshin.jpg' }
                ];

                // --- PREGUNTAS ACTUALIZADAS (MIX GAMEPLAY + PERSONALIDAD) ---
                const questions = [
                    {
                        text: "Â¿CuÃ¡l es tu filosofÃ­a al empezar la partida?",
                        options: [
                            { text: "Agresividad pura. Dominar desde el inicio.", points: ['aggro', 'power', 'darius-god', 'annie-chibi'] },
                            { text: "Paciencia. Perder vida para ganar oro.", points: ['money', 'risk', 'mf-bb', 'teemo-devil'] },
                            { text: "Adaptabilidad. Fluir con lo que el juego me da.", points: ['flex', 'survivor', 'kaisa-chibi', 'pengu'] },
                            { text: "ArmonÃ­a. Busco sinergias que suenen bien juntas.", points: ['melody', 'smart', 'sona-chibi', 'lux-sg'] },
                            { text: "RelajaciÃ³n. Pongo mÃºsica y juego lo de siempre.", points: ['chill', 'vibes', 'kapi', 'dango'] }
                        ]
                    },
                    {
                        text: "Pierdes una ronda injustamente. Tu reacciÃ³n:",
                        options: [
                            { text: "Analizo quÃ© pude hacer mejor (Skill).", points: ['micro', 'skill', 'ekko-chibi', 'yasuo-chibi'] },
                            { text: "Me enfado y mi furia crece como una bestia.", points: ['wild', 'anger', 'shisa', 'burno'] },
                            { text: "Me pongo un poco triste, necesito un abrazo.", points: ['cute', 'love', 'knife-pup', 'dango'] },
                            { text: "Spameo emotes para desahogarme.", points: ['noise', 'spam', 'duckbill', 'jinx-chibi'] },
                            { text: "No importa, mis objetos son perfectos.", points: ['items', 'showoff', 'ezreal-chibi', 'qiqi'] }
                        ]
                    },
                    {
                        text: "Hablemos de ti: Â¿QuÃ© energÃ­a proyectas en el mundo real?",
                        options: [
                            { text: "EnergÃ­a Femenina / Diva (Me gusta brillar y destacar).", points: ['fem', 'diva', 'ahri-sg', 'lux-sg', 'qiqi', 'mf-bb'] },
                            { text: "EnergÃ­a Masculina / Guerrero (Soy fuerte y directo).", points: ['masc', 'warrior', 'darius-god', 'yasuo-chibi', 'ezreal-chibi', 'burno'] },
                            { text: "EnergÃ­a de Criatura / Mascota (Soy adorable o caÃ³tico).", points: ['creature', 'cute', 'pengu', 'dango', 'shisa', 'duckbill'] },
                            { text: "Soy un enigma, prefiero no etiquetarme.", points: ['dark', 'mystery', 'ravenlord', 'molediver', 'ekko-chibi'] }
                        ]
                    },
                    {
                        text: "Â¿QuÃ© tipo de composiciones prefieres?",
                        options: [
                            { text: "Verticales clÃ¡sicas. Orden y honor.", points: ['classic', 'hero', 'pengu', 'lux-sg'] },
                            { text: "Reroll caÃ³tico. Buscar fichas doradas.", points: ['reroll', 'hyper', 'duckbill', 'knife-pup'] },
                            { text: "Algo creativo e innovador que inventÃ© yo.", points: ['create', 'unique', 'qiqi', 'sona-chibi'] },
                            { text: "Tanques inmortales que protejan al equipo.", points: ['tank', 'guard', 'molediver', 'fenroar'] },
                            { text: "Legendarias poderosas que aplasten a todos.", points: ['king', 'power', 'darius-god', 'aoshin-sun'] }
                        ]
                    },
                    {
                        text: "Â¿CÃ³mo definirÃ­as tu estilo personal (Aesthetic)?",
                        options: [
                            { text: "Elegante, visual y detallista (Aesthetic/Cute).", points: ['aesthetic', 'star', 'ahri-sg', 'lux-sg', 'ezreal-chibi', 'gwen-cafe'] },
                            { text: "RÃºstico, natural y cÃ³modo (Nature/Wild).", points: ['rustic', 'nature', 'kapi', 'molediver', 'shisa', 'fenroar'] },
                            { text: "Oscuro, gÃ³tico o misterioso (Dark/Edgy).", points: ['dark', 'villain', 'ravenlord', 'teemo-devil', 'darius-god'] },
                            { text: "Urbano, tecnolÃ³gico y moderno (Street/Tech).", points: ['tech', 'street', 'ekko-chibi', 'qiqi', 'jinx-chibi'] }
                        ]
                    },
                    {
                        text: "Te roban tu campeÃ³n en el carrusel...",
                        options: [
                            { text: "Lo anoto en mi lista negra. Venganza.", points: ['evil', 'assassin', 'katarina-ba', 'teemo-devil'] },
                            { text: "Busco una alternativa rÃ¡pidamente.", points: ['adapt', 'instinct', 'kaisa-chibi', 'ekko-chibi'] },
                            { text: "Grito y hago un escÃ¡ndalo.", points: ['chaos', 'crazy', 'jinx-chibi', 'duckbill'] },
                            { text: "Suspiro tÃ­midamente y busco otra opciÃ³n.", points: ['shy', 'support', 'sona-chibi', 'dango'] },
                            { text: "Miro si hay algo mÃ¡s brillante o bonito.", points: ['visuals', 'charm', 'ahri-sg', 'ezreal-chibi'] }
                        ]
                    },
                    {
                        text: "Â¿QuÃ© valoras mÃ¡s en tu tablero final?",
                        options: [
                            { text: "Objetos radiantes y artefactos Ãºnicos.", points: ['items', 'explorer', 'ezreal-chibi', 'qiqi'] },
                            { text: "EstÃ©tica visual, skins y colores.", points: ['star', 'visuals', 'ahri-sg', 'lux-sg'] },
                            { text: "Eficiencia matemÃ¡tica y meta.", points: ['meta', 'calc', 'ravenlord', 'yasuo-chibi'] },
                            { text: "Trabajo duro y constancia.", points: ['work', 'steady', 'molediver', 'pengu'] },
                            { text: "Poder bruto y daÃ±o masivo.", points: ['power', 'dunk', 'darius-god', 'shisa'] }
                        ]
                    },
                    {
                        text: "EstÃ¡s en racha de derrotas. Â¿El plan?",
                        options: [
                            { text: "Seguir perdiendo por dinero (Fortune).", points: ['money', 'risk', 'mf-bb', 'teemo-devil'] },
                            { text: "Mi cabello se eriza y juego mÃ¡s agresivo.", points: ['wild', 'hair', 'shisa', 'annie-chibi'] },
                            { text: "Mantener la calma y trabajar duro.", points: ['humble', 'dirt', 'molediver', 'kapi'] },
                            { text: "Pivotar a algo que me salve la vida.", points: ['survivor', 'flex', 'kaisa-chibi', 'ekko-chibi'] },
                            { text: "Confiar en la suerte de los dados.", points: ['luck', 'roll', 'dango', 'duckbill'] }
                        ]
                    },
                    {
                        text: "Elige un Aumento (Augment) ideal:",
                        options: [
                            { text: "'Forja PortÃ¡til'. Â¡Tesoros!", points: ['items', 'explorer', 'ezreal-chibi', 'knife-pup'] },
                            { text: "'Hedge Fund'. Â¡Mucho ORO!", points: ['rich', 'money', 'mf-bb', 'darius-god'] },
                            { text: "'Sector Comercial'. Â¡Reroll gratis!", points: ['reroll', 'spam', 'duckbill', 'dango'] },
                            { text: "'Loto Adornado'. Â¡Brillo y crÃ­ticos!", points: ['star', 'visuals', 'ahri-sg', 'lux-sg'] },
                            { text: "'ArmonÃ­a'. CuraciÃ³n y apoyo al equipo.", points: ['melody', 'love', 'sona-chibi', 'pengu'] }
                        ]
                    },
                    {
                        text: "Â¿QuÃ© actividad prefieres mientras juegas?",
                        options: [
                            { text: "Escuchar mÃºsica o tocar un instrumento.", points: ['music', 'melody', 'sona-chibi', 'kapi'] },
                            { text: "Mirar estadÃ­sticas y probabilidades.", points: ['smart', 'tech', 'ekko-chibi', 'ravenlord'] },
                            { text: "Comer snacks o jugar con mi mascota.", points: ['happy', 'dog', 'knife-pup', 'dango'] },
                            { text: "Narrar mis jugadas como un hÃ©roe.", points: ['hero', 'showoff', 'pengu', 'ezreal-chibi'] },
                            { text: "ConcentraciÃ³n total para eliminar rivales.", points: ['focus', 'sharp', 'katarina-ba', 'yasuo-chibi'] }
                        ]
                    },
                    {
                        text: "Llegas al Top 4. Â¿EstÃ¡s satisfecho?",
                        options: [
                            { text: "No. Solo sirve el Top 1.", points: ['competitive', 'king', 'katarina-ba', 'darius-god'] },
                            { text: "SÃ­, es trabajo honesto y humilde.", points: ['humble', 'work', 'molediver', 'pengu'] },
                            { text: "Depende de si mi comp era artÃ­stica.", points: ['art', 'create', 'qiqi', 'sona-chibi'] },
                            { text: "Me siento poderoso pase lo que pase.", points: ['power', 'lion', 'shisa', 'aoshin-sun'] },
                            { text: "Â¡SÃ­! Â¡CelebraciÃ³n y caos!", points: ['chaos', 'fun', 'jinx-chibi', 'duckbill'] }
                        ]
                    },
                    {
                        text: "Â¿CuÃ¡l es tu 'animal espiritual'?",
                        options: [
                            { text: "Un leÃ³n o una bestia salvaje.", points: ['lion', 'wild', 'shisa', 'darius-god'] },
                            { text: "Un topo trabajador.", points: ['dirt', 'work', 'molediver', 'kapi'] },
                            { text: "Una bolita redonda, suave y comestible.", points: ['happy', 'cute', 'dango', 'pengu'] },
                            { text: "Un cachorro juguetÃ³n.", points: ['dog', 'playful', 'knife-pup', 'duckbill'] },
                            { text: "Un demonio travieso.", points: ['evil', 'troll', 'teemo-devil', 'jinx-chibi'] }
                        ]
                    },
                    {
                        text: "Estilo musical para tu minileyenda:",
                        options: [
                            { text: "K-Pop brillante.", points: ['diva', 'star', 'ahri-sg', 'kaisa-chibi'] },
                            { text: "Lofi / Jazz suave.", points: ['chill', 'vibes', 'kapi', 'sona-chibi'] },
                            { text: "Rock / Metal pesado.", points: ['rage', 'power', 'darius-god', 'shisa'] },
                            { text: "MelodÃ­as clÃ¡sicas y armÃ³nicas.", points: ['melody', 'smart', 'sona-chibi', 'qiqi'] },
                            { text: "Ruidos random y divertidos.", points: ['noise', 'spam', 'duckbill', 'teemo-devil'] }
                        ]
                    },
                    {
                        text: "Ãšltima: Â¿Por quÃ© ganas?",
                        options: [
                            { text: "Inteligencia superior.", points: ['smart', 'calc', 'ekko-chibi', 'ravenlord'] },
                            { text: "Estilo y carisma.", points: ['visuals', 'showoff', 'ahri-sg', 'ezreal-chibi'] },
                            { text: "Supervivencia e instinto.", points: ['survivor', 'adapt', 'kaisa-chibi', 'molediver'] },
                            { text: "Locura y explosiones.", points: ['crazy', 'rockets', 'jinx-chibi', 'annie-chibi'] },
                            { text: "Amor y apoyo al equipo.", points: ['love', 'support', 'sona-chibi', 'knife-pup'] }
                        ]
                    }
                ];
        const App = () => {
            const [started, setStarted] = useState(false);
            const [currentQuestion, setCurrentQuestion] = useState(0);
            const [scores, setScores] = useState({});
            const [result, setResult] = useState(null);

            useEffect(() => {
                if (window.lucide) window.lucide.createIcons();
            });

            const startQuiz = () => setStarted(true);

            const handleAnswer = (points) => {
                const newScores = { ...scores };
                points.forEach(trait => {
                    characters.forEach(char => {
                        if (char.traits.includes(trait)) {
                            newScores[char.id] = (newScores[char.id] || 0) + 1;
                        }
                    });
                });
                setScores(newScores);
                if (currentQuestion < questions.length - 1) {
                    setCurrentQuestion(currentQuestion + 1);
                } else {
                    calculateResult(newScores);
                }
            };

            const calculateResult = (finalScores) => {
                let winner = characters[0];
                let maxScore = -1;
                const shuffledChars = [...characters].sort(() => 0.5 - Math.random());
                shuffledChars.forEach(char => {
                    const score = finalScores[char.id] || 0;
                    if (score > maxScore) {
                        maxScore = score;
                        winner = char;
                    }
                });
                setResult(winner);
            };

            const restart = () => {
                setStarted(false);
                setCurrentQuestion(0);
                setScores({});
                setResult(null);
            };

            const shareOnX = () => {
                const element = document.querySelector('#results-card');
                const buttons = document.querySelector('#action-buttons');
                if (buttons) buttons.style.display = 'none';
                if (window.html2canvas) {
                    window.html2canvas(element, {
                        backgroundColor: null,
                        scale: 2,
                        useCORS: true,
                        logging: false
                    }).then(canvas => {
                        if (buttons) buttons.style.display = 'flex';
                        const link = document.createElement('a');
                        link.download = `TFT-Minileyenda-${result.name.replace(/\s+/g, '-')}.png`;
                        link.href = canvas.toDataURL();
                        link.click();
                        setTimeout(() => {
                            const text = `Â¡Soy ${result.name} en el mundo de TFT! âœ¨\n\n"${result.title}"\nDescubre tu arquetipo de estratega aquÃ­:\n\n(Adjunta la imagen descargada ðŸ“¸)\n\n#TFT #TeamfightTactics #Quiz`;
                            const url = window.location.href;
                            const twitterUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(url)}`;
                            window.open(twitterUrl, '_blank');
                        }, 1500);
                    }).catch(err => {
                        console.error("Error al capturar:", err);
                        if (buttons) buttons.style.display = 'flex';
                        alert("Hubo un problema al generar la imagen.");
                    });
                }
            };

            // --- PANTALLA INICIO ---
            if (!started) {
                return (
                    <div className="min-h-screen flex flex-col items-center justify-center p-6 relative overflow-hidden">
                        <div className="bg-noise"></div>
                        <div className="aura-blob aura-purple"></div>
                        <div className="aura-blob aura-lime"></div>

                        <div className="glass-card max-w-lg w-full p-10 text-center relative z-10 mb-8">
                            <div className="mb-6 flex justify-center">

                                <div className="w-64 h-64 bg-white rounded-full flex items-center justify-center shadow-lg border-4 border-purple-100 overflow-hidden relative group rotate-3">

                                    <div className="absolute inset-0 bg-gradient-to-tr from-purple-200/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"></div>
                                    <img src="img/tft-logo.jpg" alt="TFT Logo" className="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110" />
                                </div>
                            </div>

                            <h1 className="text-5xl md:text-6xl font-serif italic text-slate-900 mb-6 leading-tight">
                                 Â¿QuÃ© Minileyenda <br />
                                <span className="text-purple-600 not-italic font-bold tracking-tighter text-4xl md:text-5xl block mt-2">ERES?
                                    </span>
                            </h1>

                            <p className="text-lg text-slate-600 mb-10 font-light leading-relaxed">
                                Descubre quÃ© estratega legendario resuena con tu personalidad. Â¿Eres caos, orden o pura magia?
                            </p>

                            <button onClick={startQuiz} className="btn-pill group flex items-center justify-center gap-3 mx-auto w-full md:w-auto cursor-pointer">
                                Iniciar Test <ArrowRight size={18} className="group-hover:translate-x-1 transition-transform" />
                            </button>

                            <div className="mt-8 pt-6 border-t border-purple-100 flex justify-center gap-6 text-purple-400">
                                <Star size={16} /> <Sparkles size={16} /> <Zap size={16} />
                            </div>
                        </div>

                        <footer className="text-center text-xs text-slate-400 font-light max-w-md leading-relaxed z-10">
                            <p className="mb-2"><em>Disclaimer:</em> Esta aplicaciÃ³n es un proyecto de fans y no estÃ¡ afiliada, respaldada ni patrocinada por <strong className="text-purple-600 font-medium">Riot Games</strong>.</p>
                            <p>Design & Code by Danae G. Â© 2025</p>
                        </footer>
                    </div>
                );
            }

            // --- PANTALLA RESULTADO ---
            if (result) {
                return (
                    <div className="min-h-screen flex items-center justify-center p-6 relative overflow-hidden">
                        <div className="bg-noise"></div>
                        <div className="aura-blob aura-pink"></div>
                        <div className="aura-blob aura-purple"></div>

                        <div id="results-card" className="max-w-md w-full overflow-hidden relative z-10 rounded-3xl shadow-2xl bg-white border border-slate-200">
                            <div className="h-64 w-full relative flex items-center justify-center overflow-hidden bg-slate-50">
                                <img src={result.img} className="absolute inset-0 w-full h-full object-cover opacity-30 blur-xl scale-110" />
                                <div className="w-40 h-40 rounded-full border-4 border-white shadow-xl overflow-hidden relative z-10">
                                    <img src={result.img} alt={result.name} className="w-full h-full object-cover" />
                                </div>
                                <div className="absolute bottom-0 left-0 w-full h-16 bg-gradient-to-t from-white/90 to-transparent z-0"></div>
                            </div>

                            <div className="relative -mt-6 flex justify-center z-20">
                                <div className="bg-white p-2 rounded-full shadow-md border border-slate-100">
                                    <div className="bg-purple-50 p-2 rounded-full">
                                        <Crown size={20} className={result.color} />
                                    </div>
                                </div>
                            </div>

                            <div className="px-8 pb-10 pt-4 text-center bg-gradient-to-b from-white to-purple-50/20">
                                <h1 className={`text-3xl font-serif font-bold mb-1 leading-tight text-center ${result.color}`}>
                                    {result.name}
                                </h1>
                                <p className="text-slate-400 font-mono text-xs uppercase tracking-[0.2em] mb-6 text-center">
                                    {result.title}
                                </p>

                                <div className="bg-white p-6 rounded-2xl border border-slate-100 shadow-sm mb-8">
                                    <p className="text-slate-600 leading-relaxed font-light text-base italic">"{result.desc}"</p>
                                </div>

                                <div className="flex flex-wrap justify-center gap-2 mb-8">
                                    {result.traits.map(trait => (
                                        <span key={trait} className="px-4 py-1.5 bg-white border border-slate-200 rounded-full text-[10px] font-bold text-slate-500 uppercase tracking-wider shadow-sm">
                                            {trait}
                                        </span>
                                    ))}
                                </div>

                                <div id="action-buttons" className="flex flex-col gap-3 mt-4 pt-6 border-t border-slate-200">
                                    <button onClick={shareOnX} className="btn-pill w-full flex items-center justify-center gap-2 group shadow-lg shadow-purple-200 cursor-pointer">
                                        Compartir en X <Share2 size={16} /> <span className="text-[10px] opacity-80 font-normal normal-case">(Descarga imagen)</span>
                                    </button>
                                    <button onClick={restart} className="btn-outline w-full justify-center border-slate-300 text-slate-500 hover:text-purple-600 cursor-pointer">
                                        <RefreshCcw size={16} /> Volver a jugar
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                );
            }

            // --- PANTALLA PREGUNTA ---
            const question = questions[currentQuestion];
            const progress = ((currentQuestion + 1) / questions.length) * 100;

            return (
                <div className="min-h-screen flex flex-col items-center justify-center p-6 relative overflow-hidden">
                    <div className="bg-noise"></div>
                    <div className="aura-blob aura-lime"></div>
                    <div className="aura-blob aura-main"></div>

                    <div className="max-w-xl w-full z-10">
                        <div className="mb-8">
                            <div className="flex justify-between items-end mb-4">
                                <span className="text-sm font-bold text-purple-600 tracking-widest uppercase">Pregunta {currentQuestion + 1}</span>
                                <span className="text-xs text-slate-400 font-mono">/ {questions.length}</span>
                            </div>
                            <div className="h-1.5 w-full progress-track rounded-full overflow-hidden">
                                <div className="h-full progress-fill transition-all duration-500 ease-out" style={{ width: `${progress}%` }}></div>
                            </div>
                        </div>

                        <div className="glass-card p-8 md:p-10 mb-6">
                            <h2 className="text-2xl md:text-3xl font-serif text-slate-900 leading-snug">
                                {question.text}
                            </h2>
                        </div>

                        <div className="space-y-3">
                            {question.options.map((option, idx) => (
                                <button
                                    key={idx}
                                    onClick={() => handleAnswer(option.points)}
                                    className="btn-option w-full group flex items-center justify-between cursor-pointer"
                                >
                                    <span className="text-slate-600 group-hover:text-purple-900 font-medium text-lg">
                                        {option.text}
                                    </span>
                                    <div className="w-6 h-6 rounded-full border-2 border-slate-200 group-hover:border-purple-500 group-hover:bg-purple-50 transition-colors flex items-center justify-center">
                                        <div className="w-2.5 h-2.5 rounded-full bg-purple-500 opacity-0 group-hover:opacity-100 transition-opacity"></div>
                                    </div>
                                </button>
                            ))}
                        </div>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>

</html>